# gradle 8.0 总结

## 8.0改进点

1. 性能
    1. 在gradle构建生命周期中（初始化期，配置期，执行期），配置期时间缩短
        引入配置缓存(configuration cache)，现在在配置期时，只在项目有配置变更时执行，可以缩短配置期耗时。
    2. 由于配置缓存的引入，并行编译速度更快
        当配置缓存启用时，不写"- parallel"标志，gradle也会以并行方式运行任务，并且，任务之间执行，不会互相影响，不需要开发者去保障并行安全。
    3. java编译更快
        增量编译分析过程，比7更快，且使用内存更少。使用java增量编译，只需要编译需要编译的部分。减少编译时间。
    4. 代码里改常量值不会导致全局重编译
        只会编译用到此常量值的类
    5. 在不同的操作系统下，java编译缓存命中率提升
    6. 持续构建功能(-t or --continuous)比以前响应速度更快
2. 易用性
    1. java toolchains
        方便多个项目，或者一个项目的多个模块里使用不同的jdk版本。定义以后，gradle会从本地，构建工具，idea中检测已有jdk并且使用，如果没有此jdk，则会下载(需要配置下载源)
    2. test套装包
        用于测试gradle构建脚本等
    3. 版本目录文件改进
        官方推荐使用libs.versions.toml管理包版本，8.0做出了多方面改进，详见官方文档
    4. kotlin编译性能改善
    5. 关于构建配置

        推荐使用buildSrc或composite build, 性能上视情况而定，不一定谁比谁性能好。buildSrc的构建行为改进，向composite build靠拢。
        >
        > - buildSrc: 构建系统默认的功能，不过需要配置就可以开启，同样达到一处修改全局可用，不过一处修改会编译整个项目，buildSrc好处是全局都能用并且可以通过点击跳转到设置参数，方便一些。相对全局配置更推荐buildSrc
        > - Composing builds：与buildSrc 类似，不过可以做到全局统一变量一样的效果就是一处修改不需要重新编译整个项目，而且还可以通过点击跳转。

3. 生态
    1. 支持java 17-19
    2. groovy,scala,kotlin升级

## 参考文档

1. [Gradle官方8.0介绍](https://gradle.org/whats-new/gradle-8)